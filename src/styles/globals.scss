/* @editorjs tools */

/* drag and drop */
.ce-block--drop-target .ce-block__content:before {
  content: "";
  position: absolute;
  top: 50%;
  left: -20px;
  margin-top: -1px;
  height: 8px;
  width: 8px;
  border: solid #a0a0a0;
  border-width: 1px 1px 0 0;
  -webkit-transform-origin: right;
  transform-origin: right;
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.ce-block--drop-target .ce-block__content:after {
  background: none;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty
  .ce-block:first-child
  .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened
  .ce-block:first-child
  .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty
  .ce-block:first-child
  .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type {
  margin-top: 0;
}

.ce-paragraph p:last-of-type {
  margin-bottom: 0;
}

/* nested-list */
.cdx-nested-list {
  margin: 0;
  padding: 0 1rem;
  outline: none;
  background-color: #f4f4f4;
  counter-reset: number 0 !important;
}

.cdx-nested-list--ordered {
  list-style: none;
  .cdx-nested-list__item::before {
    background: #ffda00;
    border-radius: 50%;
    counter-increment: number 1 !important;
    content: counter(number) !important;
    display: inline-block;
    font-size: 13px;
    font-weight: 700;
    height: 1.5rem;
    width: 1.5rem;
    line-height: 1.5rem;
    margin: 0 0.5rem;
    text-align: center;
  }
  .cdx-nested-list__item::marker {
    content: none;
  }
}

.cdx-nested-list--unordered {
  list-style: none;
  .cdx-nested-list__item::before {
    background: #ffda00;
    border-radius: 50%;
    content: "" !important;
    display: inline-block;
    font-size: 13px;
    font-weight: 700;
    height: 1rem;
    width: 1rem;
    margin: 0.3rem 0.5rem;
    text-align: center;
  }
  .cdx-nested-list__item::marker {
    content: none;
  }
}

.cdx-nested-list__item {
  padding: 5.5px 0 5.5px 3px;
  line-height: 1.6em;
}

.cdx-list-settings {
  display: flex;
  .cdx-settings-button {
    width: 50%;
  }
}

/* embed */
.embed-tool {
  position: relative;

  &__input {
    padding-left: 38px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    &-holder {
      position: relative;

      &--error {
        & {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
          background-color: #fff3f6;
          border-color: #f3e0e0;
          color: #a95a5a;
          box-shadow: inset 0 1px 3px 0 rgba(146, 62, 62, 0.05);
        }
      }
    }

    &[contentEditable="true"][data-placeholder]::before {
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }

    &[contentEditable="true"][data-placeholder]:empty {
      &::before {
        opacity: 1;
      }

      &:focus::before {
        opacity: 0;
      }
    }
  }

  &__progress {
    position: absolute;
    box-shadow: inset 0 1px 3px 0 rgba(102, 85, 107, 0.04);
    height: 100%;
    width: 0;
    background-color: #f4f5f7;
    z-index: -1;

    &--loading {
      -webkit-animation: progress 500ms ease-in;
      -webkit-animation-fill-mode: forwards;
    }

    &--loaded {
      width: 100%;
    }
  }

  &__image {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    margin: 0 0 0 30px;
    width: 65px;
    height: 65px;
    border-radius: 3px;
    float: right;
  }

  &__title {
    font-size: 17px;
    font-weight: 600;
    line-height: 1.5em;
    margin: 0 0 10px 0;

    &__anchor {
      margin-top: 25px;
    }
  }

  &__description {
    margin: 0 0 20px 0;
    font-size: 15px;
    line-height: 1.55em;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  &__anchor {
    display: block;
    font-size: 15px;
    line-height: 1em;
    color: #888 !important;
    border: 0 !important;
    padding: 0 !important;
  }

  &__content {
    width: 100%;
  }

  &__caption {
    margin-top: 7px;

    &[contentEditable="true"][data-placeholder]::before {
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }

    &[contentEditable="true"][data-placeholder]:empty {
      &::before {
        opacity: 1;
      }

      &:focus::before {
        opacity: 0;
      }
    }
  }
}

@keyframes link-in {
  from {
    filter: blur(5px);
  }

  to {
    filter: none;
  }
}

.codex-editor--narrow .link-tool__image {
  display: none;
}

@-webkit-keyframes progress {
  0% {
    width: 0;
  }
  100% {
    width: 85%;
  }
}

/* header */
h2.ce-header {
  font-size: 1.5rem;
  font-weight: bold;
}
h3.ce-header {
  font-size: 1.25rem;
  font-weight: bold;
}

/* quote */
.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
  background-color: #ededed;
  border: none;
  cite {
    display: flex;
    justify-content: flex-end;
  }
}

.cdx-quote [contentEditable="true"][data-placeholder]::before {
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable="true"][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable="true"][data-placeholder]:empty:focus::before {
  opacity: 0;
}

.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}

.cdx-quote__preview {
  min-height: 2rem !important;
  cite {
    opacity: 0.5;
  }
}
